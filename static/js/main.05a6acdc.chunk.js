(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(5),c=n.n(i),l=(n(17),n(18),n(1)),r=n(3),s=n(2),d=n(6),u=n(7),m=n(9),f=n(8),h=n(10);var g=function(e){var t=e.todo,n=e.changeItemBody,o=e.editingText,i=e.getInputText,c=e.exitEditing;return a.a.createElement("form",{onSubmit:function(e){return n(t.id,e)}},a.a.createElement("input",{type:"text",className:"edit",value:o,onChange:i,onBlur:function(){return c(t.id)},autoFocus:!0}))};var I=function(e){var t=e.listOfTodos,n=e.changeItemBody,o=e.editingText,i=e.getInputText,c=e.exitEditing,l=e.onChange,r=e.makeEditable,s=e.deleteItem;return t.map(function(e,t){return a.a.createElement("li",{className:"editing ".concat(e.isChecked?"completed":""),key:e.id},e.isInEditMode&&a.a.createElement(g,{todo:e,changeItemBody:n,editingText:o,getInputText:i,exitEditing:c}),a.a.createElement("div",{className:e.isInEditMode?"view":""},a.a.createElement("input",{type:"checkbox",className:"toggle",id:"todo-".concat(t+1),checked:e.isChecked,onChange:function(){return l(e.id)}}),a.a.createElement("span",{onDoubleClick:function(){return r(e.id)},onClick:function(e){return e.stopPropagation()}},e.body),a.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return s(e.id)}})))})};var p=function(e){var t=e.activeFilterButton,n=e.visibleList;return a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement("a",{href:"#/",className:"all"===t?"selected":"",onClick:function(){return n("all")}},"All")),a.a.createElement("li",null,a.a.createElement("a",{href:"#/active",className:"active"===t?"selected":"",onClick:function(){return n("active")}},"Active")),a.a.createElement("li",null,a.a.createElement("a",{href:"#/completed",className:"completed"===t?"selected":"",onClick:function(){return n("completed")}},"Completed")))},b=function(e){return Object.keys(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(localStorage,t)){var n=localStorage.getItem(t);try{n=JSON.parse(n),e=Object(s.a)({},e,Object(l.a)({},t,n))}catch(o){e=Object(s.a)({},e,Object(l.a)({},t,n))}}}),e},E=function(e){Object.keys(e).forEach(function(t){localStorage.setItem(t,JSON.stringify(e[t]))})},v=function(e){function t(){var e,n;Object(d.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).state={todoItems:[],todoItemsToShow:[],inputText:"",activeFilterButton:"all",editingText:""},n.componentDidMount=function(){n.setState(function(e){var t=b(e);return Object(s.a)({},e,t)}),window.addEventListener("beforeunload",function(){return E(n.state)})},n.componentWillUnmount=function(){window.removeEventListener("beforeunload",function(){return E(n.state)}),E(n.state)},n.handleSubmit=function(e){if(e.preventDefault(),!(n.state.inputText.replace(/\s/g,"").length<1)){var t={body:n.state.inputText,id:Date.now(),isChecked:!1,isInEditMode:!1};n.setState(function(e){return{todoItems:e.todoItems.concat(t),todoItemsToShow:e.todoItems.concat(t),inputText:""}})}},n.handleChange=function(e){n.setState({inputText:e.target.value})},n.handleCheckAll=function(e){var t=e.target.checked;n.setState(function(e){var n=Object(r.a)(e.todoItems);return n.forEach(function(e){return e.isChecked=t}),{todoItems:n,todoItemsToShow:n}})},n.handleItemChanged=function(e){n.setState(function(t){var n=t.todoItems.map(function(t){return t.id!==e?t:Object(s.a)({},t,{isChecked:!t.isChecked})});return{todoItems:n,todoItemsToShow:n}})},n.deleteItem=function(e){n.setState(function(t){var n=t.todoItems.filter(function(t){return t.id!==e});return{todoItems:n,todoItemsToShow:n}})},n.deleteAllItems=function(){n.setState(function(e){var t=e.todoItems.filter(function(e){return!e.isChecked});return{todoItems:t,todoItemsToShow:t}})},n.makeEditable=function(e){n.setState(function(t){return{todoItems:t.todoItems.map(function(t){return t.id===e&&(t.isInEditMode=!0),t}),editingText:t.todoItems.find(function(t){return t.id===e}).body}})},n.changeItemBody=function(e,t){t.preventDefault(),n.setState(function(t){var o=t.todoItems.find(function(t){return t.id===e});return t.editingText.length<1?n.deleteItem(e):(o.body=t.editingText,o.isInEditMode=!1,{editingText:""})})},n.exitEditing=function(e){n.setState(function(t){return t.todoItems.find(function(t){return t.id===e}).isInEditMode=!1,{editingText:""}})},n.getInputText=function(e){n.setState({editingText:e.target.value})},n.memoizedItemsList=function(){var e={};return function(t){if(t in e)n.setState({todoItemsToShow:e[t],activeFilterButton:t});else{var o;switch(t){case"active":o=n.state.todoItems.filter(function(e){return!e.isChecked});break;case"completed":o=n.state.todoItems.filter(function(e){return e.isChecked});break;default:o=Object(r.a)(n.state.todoItems)}e=Object(s.a)({},e,Object(l.a)({},t,o)),n.setState({todoItemsToShow:o,activeFilterButton:t})}}},n.visibleList=n.memoizedItemsList(n.state.todoItems),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=Object(r.a)(this.state.todoItems).filter(function(e){return!e.isChecked}).length;return a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onChange:this.handleChange,value:this.state.inputText}))),a.a.createElement("section",{className:"main",style:{display:"block"}},a.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:!this.state.todoItems.some(function(e){return!e.isChecked}),onChange:this.handleCheckAll}),a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),a.a.createElement("ul",{className:"todo-list"},a.a.createElement(I,{listOfTodos:this.state.todoItemsToShow,onChange:this.handleItemChanged,deleteItem:this.deleteItem,makeEditable:this.makeEditable,changeItemBody:this.changeItemBody,getInputText:this.getInputText,exitEditing:this.exitEditing,editingText:this.state.editingText}))),a.a.createElement("footer",{className:"footer",style:{display:"block"}},a.a.createElement("span",{className:"todo-count"},"".concat(e," items left")),a.a.createElement("ul",{className:"filters"},a.a.createElement(p,{activeFilterButton:this.state.activeFilterButton,visibleList:this.visibleList})),a.a.createElement("button",{type:"button",className:"clear-completed",style:this.state.todoItems.some(function(e){return!0===e.isChecked})?{display:"block"}:{display:"none"},onClick:this.deleteAllItems},"Clear completed")))}}]),t}(a.a.Component);c.a.render(a.a.createElement(v,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.05a6acdc.chunk.js.map