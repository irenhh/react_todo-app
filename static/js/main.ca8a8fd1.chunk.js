(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(5),c=n.n(o),r=(n(17),n(18),n(3)),l=n(1),s=n(6),u=n(7),d=n(9),m=n(8),f=n(10);var h=function(e){var t=e.todo,n=e.changeItemBody,a=e.editingText,o=e.getInputText,c=e.exitEditing;return i.a.createElement("form",{onSubmit:function(e){return n(t.id,e)}},i.a.createElement("input",{type:"text",className:"edit",value:a,onChange:o,onBlur:function(){return c(t.id)},autoFocus:!0}))};var g=function(e){var t=e.listOfTodos,n=e.changeItemBody,a=e.editingText,o=e.getInputText,c=e.exitEditing,r=e.onChange,l=e.makeEditable,s=e.deleteItem;return t.map(function(e,t){return i.a.createElement("li",{className:"editing ".concat(e.isChecked?"completed":""),key:e.id},e.isInEditMode&&i.a.createElement(h,{todo:e,changeItemBody:n,editingText:a,getInputText:o,exitEditing:c}),i.a.createElement("div",{className:e.isInEditMode?"view":""},i.a.createElement("input",{type:"checkbox",className:"toggle",id:"todo-".concat(t+1),checked:e.isChecked,onChange:function(){return r(e.id)}}),i.a.createElement("span",{onDoubleClick:function(){return l(e.id)},onClick:function(e){return e.stopPropagation()}},e.body),i.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return s(e.id)}})))})};var p=function(e){var t=e.activeFilterButton,n=e.handleFilter;return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement("a",{href:"#/",className:"all"===t?"selected":"",onClick:function(){return n("all")}},"All")),i.a.createElement("li",null,i.a.createElement("a",{href:"#/active",className:"active"===t?"selected":"",onClick:function(){return n("active")}},"Active")),i.a.createElement("li",null,i.a.createElement("a",{href:"#/completed",className:"completed"===t?"selected":"",onClick:function(){return n("completed")}},"Completed")))},E=n(2),I=function(e){return Object.keys(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(localStorage,t)){var n=localStorage.getItem(t);try{n=JSON.parse(n),e=Object(l.a)({},e,Object(E.a)({},t,n))}catch(a){e=Object(l.a)({},e,Object(E.a)({},t,n))}}}),e},b=function(e){Object.keys(e).forEach(function(t){localStorage.setItem(t,JSON.stringify(e[t]))})},k=function(){var e={};return function(t,n){if(e.arr===t&&e.status===n)return e.result;var a;switch(n){default:case"all":a=t;break;case"active":a=t.filter(function(e){return!e.isChecked});break;case"completed":a=t.filter(function(e){return e.isChecked})}return e={arr:t,status:n,result:a},a}}(),v=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={todoItems:[],inputText:"",activeFilterButton:"all",editingText:""},n.componentDidMount=function(){n.setState(function(e){var t=I(e);return Object(l.a)({},e,t)}),window.addEventListener("beforeunload",function(){return b(n.state)})},n.componentWillUnmount=function(){window.removeEventListener("beforeunload",function(){return b(n.state)}),b(n.state)},n.handleSubmit=function(e){if(e.preventDefault(),!(n.state.inputText.replace(/\s/g,"").length<1)){var t={body:n.state.inputText,id:Date.now(),isChecked:!1,isInEditMode:!1};n.setState(function(e){return{todoItems:e.todoItems.concat(t),inputText:""}})}},n.handleChange=function(e){n.setState({inputText:e.target.value})},n.handleCheckAll=function(e){var t=e.target.checked;n.setState(function(e){var n=Object(r.a)(e.todoItems);return n.forEach(function(e){return e.isChecked=t}),{todoItems:n}})},n.handleItemChanged=function(e){n.setState(function(t){return{todoItems:t.todoItems.map(function(t){return t.id!==e?t:Object(l.a)({},t,{isChecked:!t.isChecked})})}})},n.deleteItem=function(e){n.setState(function(t){return{todoItems:t.todoItems.filter(function(t){return t.id!==e})}})},n.deleteAllItems=function(){n.setState(function(e){return{todoItems:e.todoItems.filter(function(e){return!e.isChecked})}})},n.makeEditable=function(e){n.setState(function(t){return{todoItems:t.todoItems.map(function(t){return t.id===e&&(t.isInEditMode=!0),t}),editingText:t.todoItems.find(function(t){return t.id===e}).body}})},n.changeItemBody=function(e,t){t.preventDefault(),n.setState(function(t){var a=t.todoItems.find(function(t){return t.id===e});return t.editingText.length<1?n.deleteItem(e):(a.body=t.editingText,a.isInEditMode=!1,{editingText:""})})},n.exitEditing=function(e){n.setState(function(t){return t.todoItems.find(function(t){return t.id===e}).isInEditMode=!1,{editingText:""}})},n.getInputText=function(e){n.setState({editingText:e.target.value})},n.handleFilter=function(e){n.setState({activeFilterButton:e})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=Object(r.a)(this.state.todoItems).filter(function(e){return!e.isChecked}).length,t=k(this.state.todoItems,this.state.activeFilterButton);return i.a.createElement("section",{className:"todoapp"},i.a.createElement("header",{className:"header"},i.a.createElement("h1",null,"todos"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onChange:this.handleChange,value:this.state.inputText}))),i.a.createElement("section",{className:"main",style:{display:"block"}},i.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:!this.state.todoItems.some(function(e){return!e.isChecked}),onChange:this.handleCheckAll}),i.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),i.a.createElement("ul",{className:"todo-list"},i.a.createElement(g,{listOfTodos:t,onChange:this.handleItemChanged,deleteItem:this.deleteItem,makeEditable:this.makeEditable,changeItemBody:this.changeItemBody,getInputText:this.getInputText,exitEditing:this.exitEditing,editingText:this.state.editingText}))),i.a.createElement("footer",{className:"footer",style:{display:"block"}},i.a.createElement("span",{className:"todo-count"},"".concat(e," items left")),i.a.createElement("ul",{className:"filters"},i.a.createElement(p,{activeFilterButton:this.state.activeFilterButton,handleFilter:this.handleFilter})),i.a.createElement("button",{type:"button",className:"clear-completed",style:this.state.todoItems.some(function(e){return!0===e.isChecked})?{display:"block"}:{display:"none"},onClick:this.deleteAllItems},"Clear completed")))}}]),t}(i.a.Component);c.a.render(i.a.createElement(v,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.ca8a8fd1.chunk.js.map